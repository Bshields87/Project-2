<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Login Form Tutorial</title>
		<link rel="stylesheet" href="../assets/css/style.css" type="text/css" />
		<script src="../assets/js/script.js"></script>
		
	</head>
	<body>
		<div class="login-form">
			<h1>Create New Account</h1>
			<form action="auth" method="POST">
				<input  id="email" type="text" name="email" placeholder="Email" required>
				<input id="name" type="text" name="name" placeholder="Name" required>
				<input id="age" type="text" name="age" placeholder="Age" required>
				<input id="photo" type="text" name="photo" placeholder="Photo" required>
				<input id="username" type="text" name="username" placeholder="Username" required>
				<input id="password" type="password" name="password" placeholder="Password" required>
				<input type="submit">
			</form>
		</div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
		<script>
		
		$(".login-form").on("submit", function(event) {
    // Make sure to preventDefault on a submit event.
    event.preventDefault();

    var newUser = {
			email: $("#email").val().trim(),
			name: $("#name").val().trim(),
			age: $("#age").val().trim(),
			photo: $("#photo").val().trim(),
      username: $("#username").val().trim(),
      password: $("#password").val().trim()
    };
 console.log(newUser)
    // Send the POST request.
		$.post("/api/new", newUser)
		.then(function(data) {
			alert("Adding character...");
				console.log("welcome" + newUser.name);
				console.log(data)
        // Reload the page to get the updated list
        //location.reload();
      }
    );
  });
		</script>
	</body>
</html>