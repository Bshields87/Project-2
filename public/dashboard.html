<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/css?family=Bangers|Faster+One|Fugaz+One|Montserrat+Subrayada|Notable" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Fascinate+Inline|Staatliches" rel="stylesheet">
</head>

<body style="background-color: #ea80fc; font-family: 'Fascinate Inline', cursive;
font-family: 'Staatliches', cursive;">
    <!--NavBar-->

    <nav>
        <div class="nav-wrapper" style="background-color: #b64fc8">
            <a href="dashboard.html" class="brand-logo center"><img src="/css/loveLogo6.png" style="width:75px"></a>
            <ul id="nav-mobile" class="left hide-on-med-and-down">
                <li>
                    <h5>Carousel of Love©</h5></a>
                </li>
                <li><a href="login.html">Logout</a></li>
                <li><a href="inbox.html">Messages</a></li>
                <li><a href="collapsible.html">Your Quiz</a></li>
            </ul>
        </div>
    </nav>
    <div id="description" style="background-color: #ea80fc; text-align: center">
<<<<<<< HEAD
        <h1 style="font-family: 'Bangers', cursive;">Carousel of Love®</h1>
=======
        <h1 style="font-family: 'Bangers', cursive;">Carousel of Love</h1>
>>>>>>> f03c1b467d9a703d4dde40dcd565c9c31f3fc96d
        <h4 style="font-family: 'Fugaz One', cursive;"> We're a modern dating app that shall remedy your online dating
            woes.</h4>
        <h5 style="font-family: 'Staatliches', cursive;">
            How it works: Scroll through the carousel below to find hotties near you. When someone piques your fancy,
            click to access their profile.
            You'll have to complete their survey prior to interacting. Once they recieve your answers, they'll reach
            out if you are a match!
        </h5>

    </div>
    <!--Carousel Start-->
    <div class="carousel carousel-slider center" id="carousel">
        <div class="carousel-fixed-item center">
        </div>

        <!--Panel 1-->

        <div class="carousel-item grey white-text" href="#one!">
            <button class="mdc-button" id="userid1">
                <span class="mdc-button__label">Send Message</span>
            </button>
            <h2 id="user1name"></h2>
            <h3 id="user1age" class="white-text"></h3>
            <p id="user1bio" class="white-text"></p>


            <img class="imageResize" id="user1photo" style="width: 300px !important">


        </div>

        <!--Panel 2-->

        <div class="carousel-item grey white-text" href="#two!">


            <button class="mdc-button" id="userid2">
                <span class="mdc-button__label">Send Message</span>
            </button>
            <h2 id="user2name"></h2>
            <h3 id="user2age" class="white-text"></h3>
            <p id="user2bio" class="white-text"></p>
            <img class="imageResize" id="user2photo" style="width: 300px !important">

        </div>

        <!--Panel 3-->

        <div class="carousel-item grey white-text" href="#three!">


            <button class="mdc-button" id="userid3">
                <span class="mdc-button__label">Send Message</span>
            </button>

            <h2 id="user3name"></h2>
            <h3 id="user3age" class="white-text"></h3>
            <p id="user3bio" class="white-text"></p>
            <img class="imageResize" id="user3photo" style="width:300px !important">

        </div>

        <!--Panel 4-->

        <div class="carousel-item grey white-text" href="#four!">


            <button class="mdc-button" id="userid4">
                <span class="mdc-button__label">Send Message</span>
            </button>

            <h2 id="user4name"></h2>
            <h3 id="user4age" class="white-text"></h3>
            <p id="user4bio" class="white-text"></p>
            <img class="imageResize" id="user4photo" style="width: 300px !important">

        </div>

        <!--Panel 5-->
        <div class="carousel-item grey white-text" href="#three!">


            <button class="mdc-button" id="userid5">
                <span class="mdc-button__label">Send Message</span>
            </button>

            <h2 id="user5name"></h2>
            <h3 id="user5age" class="white-text"></h3>
            <p id="user5bio" class="white-text"></p>
            <img class="imageResize" id="user5photo" style="width:300px !important">

        </div>

    </div>
    <!--Carousel End-->

    <!--Footer-->
    <div style="font-family: 'Fascinate Inline', cursive;
    font-family: 'Staatliches', cursive; text-align: center;">
        <footer class="page-footer" style="background-color: #ffb2ff">
            <div class="container">
                <div class="row">
                    <div>
                        <h5 class="white-text"></h5>
                        <p class="grey-text text-lighten-4"> Created by: Bethany Sheilds, Max Kligman, and Wassim
                            Khemici.</p>
                    </div>
                </div>
            </div>
            <div class="footer-copyright" style="background-color: #b64fc8">
                <div class="container">
                    Carousel of Love © 2019 Copyright | Made in Berkeley, CA
                </div>
            </div>
        </footer>
    </div>






    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        M.AutoInit();
        document.addEventListener('DOMContentLoaded', function () {
            var elems = document.querySelector('.carousel');
            var instances = M.Carousel.init(elems);
            $.ajax({
                url: "/users",
                method: "GET"
            }).then(
                function (result) {
                    let users = (result)

                    console.log(users)

                    //user 1
                    $("#user1photo").attr("src", users[0].User.photo)
                    $("#user1name").html(users[0].User.fullname)
                    $("#user1age").html(users[0].User.age)
                    $("#user1bio").html(users[0].User.bio)
                    $("#userid1").attr("name", users[0].UserId)
                    //user 2
                    $("#user2photo").attr("src", users[1].User.photo)
                    $("#user2name").html(users[1].User.fullname)
                    $("#user2age").html(users[1].User.age)
                    $("#user2bio").html(users[1].User.bio)
                    $("#userid2").attr("name", users[1].UserId)
                    //user 3
                    $("#user3photo").attr("src", users[2].User.photo)
                    $("#user3name").html(users[2].User.fullname)
                    $("#user3age").html(users[2].User.age)
                    $("#user3bio").html(users[2].User.bio)
                    $("#userid3").attr("name", users[2].UserId)
                    //user 4
                    $("#user4photo").attr("src", users[3].User.photo)
                    $("#user4name").html(users[3].User.fullname)
                    $("#user4age").html(users[3].User.age)
                    $("#user4bio").html(users[3].User.bio)
                    $("#userid4").attr("name", users[3].UserId)
                    //user 5
                    $("#user5photo").attr("src", users[4].User.photo)
                    $("#user5name").html(users[4].User.fullname)
                    $("#user5age").html(users[4].User.age)
                    $("#user5bio").html(users[4].User.bio)
                    $("#userid5").attr("name", users[4].UserId)



                });

            console.log()

            
        });

        //click events for the each button
        //Button 1
        $("#userid1").on("click", function () {
            let x = document.getElementById("userid1").getAttribute("name")
            $.ajax({
                url: "/survey/" + x,
                method: "GET"
            }).then(
                function (user) {
                    window.location.pathname = `/profile/${user.id}`

                })
        })

        //Button 2
        $("#userid2").on("click", function () {
            let x = document.getElementById("userid2").getAttribute("name")
            $.ajax({
                url: "/survey/" + x,
                method: "GET"
            }).then(
                function (user) {
                    window.location.pathname = `/profile/${user.id}`
                })
        })

        //Button 3
        $("#userid3").on("click", function () {
            let x = document.getElementById("userid3").getAttribute("name")
            $.ajax({
                url: "/survey/" + x,
                method: "GET"
            }).then(
                function (user) {
                    window.location.pathname = `/profile/${user.id}`

                })
        })

        //Button 4
        $("#userid4").on("click", function () {
            let x = document.getElementById("userid4").getAttribute("name")
            $.ajax({
                url: "/survey/" + x,
                method: "GET"
            }).then(
                function (user) {
                    window.location.pathname = `/profile/${user.id}`

                })
        })


        var instance = M.Carousel.init({
            fullWidth: true,
            indicators: true
        });


    </script>
</body>

</html>
